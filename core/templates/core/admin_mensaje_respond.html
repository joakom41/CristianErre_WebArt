{% extends 'core/base.html' %}

{% block title %}Responder Mensaje | Admin{% endblock %}

{% block content %}
<div class="min-h-screen bg-stone-50 py-8">
    <div class="max-w-4xl mx-auto px-4">

        <!-- Encabezado -->
        <div class="mb-8">
            <a href="{% url 'admin_mensajes' %}" class="text-stone-600 hover:text-stone-900 mb-4 inline-block">
                ← Volver a mensajes
            </a>
            <h1 class="text-4xl font-display font-bold text-stone-900 mb-2">Responder Mensaje</h1>
        </div>

        <!-- Mensaje original -->
        <div class="bg-stone-100 rounded-2xl p-6 mb-8">
            <h3 class="font-display text-lg font-bold text-stone-900 mb-4">Mensaje Original</h3>
            <div class="space-y-3">
                <div>
                    <span class="text-sm font-medium text-stone-700">De:</span>
                    <span class="text-stone-900">{{ mensaje.nombre }} ({{ mensaje.email }})</span>
                </div>
                <div>
                    <span class="text-sm font-medium text-stone-700">Asunto:</span>
                    <span class="text-stone-900">{{ mensaje.asunto }}</span>
                </div>
                <div>
                    <span class="text-sm font-medium text-stone-700">Mensaje:</span>
                    <p class="text-stone-900 mt-2 whitespace-pre-wrap">{{ mensaje.mensaje }}</p>
                </div>
            </div>
        </div>

        <!-- Formulario de respuesta -->
        <div class="bg-white rounded-2xl shadow-soft p-8">
            <form method="POST">
                {% csrf_token %}

                <div class="mb-6">
                    <label for="respuesta" class="block text-sm font-medium text-stone-700 mb-2">
                        Tu Respuesta
                    </label>
                    <textarea name="respuesta" id="respuesta" required rows="10"
                        class="w-full px-4 py-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-stone-400 focus:border-transparent outline-none transition"
                        placeholder="Escribe tu respuesta aquí..."></textarea>
                    <p class="text-sm text-stone-500 mt-2">
                        Nota: La respuesta se guardará en el sistema. Deberás enviar el email manualmente a {{
                        mensaje.email }}
                    </p>
                </div>

                <div class="flex gap-4">
                    <button type="submit"
                        class="flex-1 bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700 transition duration-300">
                        Guardar Respuesta
                    </button>
                    <a href="{% url 'admin_mensajes' %}"
                        class="flex-1 bg-stone-100 text-stone-900 text-center py-3 rounded-lg font-medium hover:bg-stone-200 transition duration-300">
                        Cancelar
                    </a>
                </div>
            </form>
        </div>

    </div>
</div>
{% endblock %}